{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","storePrefix","debug","log","console","apply","arguments","Highway","currentRoutes","start","options","self","extend","methods","filter","method","isFunction","isEmpty","Router","History","started","existingRoute","history","storedRoute","getStoredRoute","clearStore","go","path","processControllers","location","pathname","substring","hash","map","routesDefiner","call","route","name","def","routesExtension","controllerExtension","currentName","isObject","charAt","re","isString","prototype","_routeToRegExp","wrappers","close","controllerWrapper","args","trigger","push","isUndefined","storeCurrentRoute","action","before","processTriggers","after","exists","continueProcess","forEach","replace","navigate","triggers","isArray","processTrigger","cache","findCachedTrigger","done","arg","isNull","callback","find","item","clearCache","routeName","parse","indexOf","test","params","argIndex","split","part","join","setItem","getItem","removeItem","on","off"],"mappings":"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"}