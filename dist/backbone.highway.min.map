{"version":3,"sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","optionalParams","splatParams","namedParam","namedParams","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","definer","method","isFunction","options","TypeError","call","Highway","prototype","currentRoutes","start","extend","Router","_startHistory","restart","history","stop","map","declare","route","name","def","self","routesExtension","controllerExtension","currentName","isString","ReferenceError","isObject","path","_stripHeadingSlash","_routeToRegExp","wrappers","_processControllers","args","close","controllerWrapper","trigger","push","isUndefined","_storeCurrentRoute","_httpError","action","isEmpty","before","_processTriggers","after","go","_removeRootUrl","replace","_exists","_name","sameRoute","without","force","isArray","_convertArgObjectToArray","_path","continueProcess","forEach","bind","_parse","navigate","clearCache","triggers","routeArgs","_processTrigger","cache","_cacheTrigger","isNull","arg","_hasDispatcher","isTrigger","_extractParameters","length","_sanitizeArgs","callback","_findCachedTrigger","find","item","done","History","started","existingRoute","_applyStoredRoute","code","url","getFragment","Error","storedRoute","_getStoredRoute","_clearStore","test","params","_isValidArgsArray","_checkPath","_replaceArg","match","part","paramNames","substr","indexOf","undefined","setItem","_getStoreKey","key","getItem","removeItem","on","off"],"mappings":"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","file":"backbone.highway.min.js"}