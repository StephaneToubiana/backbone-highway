{"version":3,"sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","optionalParams","splatParams","namedParam","namedParams","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","definer","method","isFunction","options","TypeError","call","Highway","prototype","currentRoutes","start","extend","Router","_startHistory","restart","history","stop","map","declare","route","name","def","self","routesExtension","controllerExtension","currentName","isString","ReferenceError","isObject","path","_stripHeadingSlash","_routeToRegExp","wrappers","_processControllers","args","close","controllerWrapper","trigger","push","isUndefined","_storeCurrentRoute","_httpError","action","isEmpty","before","_processTriggers","after","go","replace","_removeRootUrl","_exists","_name","sameRoute","without","force","isArray","paramNames","_path","match","substr","continueProcess","forEach","bind","_parse","navigate","clearCache","triggers","routeArgs","_processTrigger","cache","_cacheTrigger","isNull","arg","_hasDispatcher","isTrigger","_extractParameters","length","_sanitizeArgs","callback","_findCachedTrigger","find","item","done","History","started","existingRoute","_applyStoredRoute","code","url","getFragment","Error","storedRoute","_getStoredRoute","_clearStore","test","params","_isValidArgsArray","_checkPath","_replaceArg","part","indexOf","undefined","setItem","_getStoreKey","key","getItem","removeItem","on","off"],"mappings":"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","file":"backbone.highway.min.js"}