{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","storePrefix","debug","log","console","apply","arguments","Highway","currentRoutes","start","options","self","extend","methods","filter","method","isFunction","isEmpty","Router","History","started","existingRoute","history","storedRoute","getStoredRoute","clearStore","go","path","processControllers","name","args","getFragment","map","routesDefiner","call","route","def","routesExtension","controllerExtension","currentName","isObject","stripHeadingSlash","isString","routeToRegExp","wrappers","close","controllerWrapper","trigger","push","isUndefined","storeCurrentRoute","action","before","processTriggers","after","exists","continueProcess","forEach","replace","navigate","triggers","routeArgs","isArray","processTrigger","cache","findCachedTrigger","done","isNull","arg","extractParameters","length","callback","find","item","clearCache","routeName","parse","test","params","argIndex","split","part","charAt","join","setItem","getItem","removeItem","prototype","_extractParameters","_routeToRegExp","on","off"],"mappings":"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"}