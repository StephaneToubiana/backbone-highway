{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","optionalParams","splatParams","namedParam","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","definer","method","isFunction","options","TypeError","call","Highway","prototype","currentRoutes","start","extend","Router","_startHistory","map","declare","route","name","def","self","routesExtension","controllerExtension","currentName","isString","ReferenceError","isObject","path","_stripHeadingSlash","_routeToRegExp","wrappers","_processControllers","args","close","controllerWrapper","trigger","push","isUndefined","_storeCurrentRoute","_httpError","action","isEmpty","before","_processTriggers","after","go","_exists","continueProcess","forEach","bind","replace","_path","navigate","clearCache","triggers","routeArgs","isArray","_processTrigger","_name","cache","_cacheTrigger","isNull","arg","hasDispatcher","isTrigger","_extractParameters","length","_sanitizeArgs","callback","_findCachedTrigger","find","item","done","History","started","existingRoute","history","_applyStoredRoute","code","url","getFragment","Error","storedRoute","_getStoredRoute","_clearStore","routeName","_parse","test","params","_isValidArgsArray","_checkPath","_replaceArg","match","part","indexOf","without","undefined","setItem","_getStoreKey","key","getItem","removeItem","on","off"],"mappings":"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"}