{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","optionalParams","namedParams","splatParams","namedParam","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","Highway","prototype","currentRoutes","start","options","extend","hasCorrectDispatcher","isFunction","trigger","ReferenceError","Router","_startHistory","map","definer","TypeError","defined","call","route","name","def","self","routesExtension","controllerExtension","currentName","isString","isObject","path","_stripHeadingSlash","_routeToRegExp","wrappers","_processControllers","args","close","controllerWrapper","push","isUndefined","_storeCurrentRoute","_httpError","action","isEmpty","before","_processTriggers","after","go","_exists","continueProcess","forEach","bind","replace","_path","navigate","clearCache","triggers","routeArgs","isArray","_processTrigger","_name","cache","_cacheTrigger","isNull","arg","_extractParameters","length","callback","_findCachedTrigger","find","item","done","History","started","existingRoute","history","_applyStoredRoute","code","url","getFragment","Error","storedRoute","_getStoredRoute","_clearStore","routeName","_parse","test","params","_isValidArgsArray","_sanitizeArgs","match","part","_checkPath","without","setItem","_getStoreKey","key","getItem","removeItem","on","off"],"mappings":"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"}