{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","Highway","currentRoutes","start","options","self","extend","methods","filter","method","isFunction","isEmpty","Router","History","started","existingRoute","history","storedRoute","getStoredRoute","clearStore","go","path","processControllers","name","args","getFragment","map","routesDefiner","call","route","def","routesExtension","controllerExtension","currentName","isObject","stripHeadingSlash","isString","routeToRegExp","wrappers","close","controllerWrapper","trigger","push","isUndefined","storeCurrentRoute","action","before","processTriggers","after","exists","continueProcess","forEach","replace","navigate","triggers","routeArgs","isArray","processTrigger","cache","findCachedTrigger","done","isNull","arg","extractParameters","length","callback","find","item","clearCache","routeName","parse","test","params","argIndex","split","part","charAt","join","setItem","getStoreKey","key","getItem","removeItem","prototype","_extractParameters","_routeToRegExp","on","off"],"mappings":"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"}