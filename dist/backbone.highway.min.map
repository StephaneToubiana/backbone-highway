{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","re","headingSlash","trailingSlash","parentheses","optionalParams","splatParams","namedParam","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","store","prefix","separator","debug","log","console","apply","arguments","Highway","prototype","currentRoutes","start","options","extend","Router","_startHistory","map","definer","isFunction","TypeError","defined","call","route","name","def","self","routesExtension","controllerExtension","currentName","isString","ReferenceError","isObject","path","_stripHeadingSlash","_routeToRegExp","wrappers","_processControllers","args","close","controllerWrapper","trigger","push","isUndefined","_storeCurrentRoute","_httpError","action","isEmpty","before","_processTriggers","after","go","_exists","continueProcess","forEach","bind","replace","_path","navigate","clearCache","triggers","routeArgs","isArray","_processTrigger","_name","cache","_cacheTrigger","isNull","arg","hasDispatcher","isTrigger","_extractParameters","length","_sanitizeArgs","callback","_findCachedTrigger","find","item","done","History","started","existingRoute","history","_applyStoredRoute","code","url","getFragment","Error","storedRoute","_getStoredRoute","_clearStore","routeName","_parse","test","params","_isValidArgsArray","_checkPath","_replaceArg","match","part","indexOf","without","undefined","setItem","_getStoreKey","key","getItem","removeItem","on","off"],"mappings":"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"}