{"version":3,"file":"backbone.highway.min.js","sources":["../src/backbone.highway.js"],"names":["window","factory","define","amd","Backbone","_","exports","module","require","this","localStorage","router","routes","extendedRoutes","controller","extendedController","closeControllers","cachedTriggers","defaultOptions","pushState","root","hashChange","silent","dispatcher","authenticated","redirectToLogin","login","error404","error403","storePrefix","debug","log","console","apply","arguments","Highway","currentRoutes","start","options","self","extend","methods","filter","method","isFunction","isEmpty","Router","History","started","existingRoute","history","storedRoute","getStoredRoute","clearStore","go","path","processControllers","location","pathname","substring","hash","map","routesDefiner","call","route","name","def","routesExtension","controllerExtension","currentName","isObject","charAt","re","prototype","_routeToRegExp","wrappers","close","controllerWrapper","args","trigger","push","isUndefined","storeCurrentRoute","isString","action","before","processTriggers","after","exists","continueProcess","forEach","replace","navigate","triggers","isArray","processTrigger","cache","findCachedTrigger","done","arg","isNull","callback","find","item","clearCache","routeName","parse","params","test","argIndex","split","part","join","setItem","getItem","removeItem","on","off"],"mappings":"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"}